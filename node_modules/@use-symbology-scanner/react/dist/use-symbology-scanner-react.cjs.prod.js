'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var core = require('@use-symbology-scanner/core');
var react = require('react');

const useSymbologyScanner = (handler, config = {}) => {
  const controllerRef = react.useRef(null);
  react.useEffect(() => {
    const controller = controllerRef.current;
    if (controller) {
      controller.applyHandler(handler);
      controller.applyConfig(config);
      return controller.effect();
    }
  });
  react.useEffect(() => {
    const controller = new core.Controller(config, handler);
    controllerRef.current = controller;
    return controller.clean.bind(controller);
  }, []);
};

exports.useSymbologyScanner = useSymbologyScanner;
